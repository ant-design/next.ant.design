"use strict";(self.webpackChunkantd=self.webpackChunkantd||[]).push([[76586],{76586:function(z,W,e){e.r(W);var L=e(19632),j=e.n(L),y=e(15009),U=e.n(y),S=e(97857),v=e.n(S),T=e(99289),B=e.n(T),K=e(9783),k=e.n(K),Z=e(5574),f=e.n(Z),F=e(13769),I=e.n(F),i=e(67294),m=e(13669),n=e(66366),N=["index"],$=["title","editable","children","dataIndex","record","handleSave"],A=i.createContext(null),w=function(t){var p=t.index,d=I()(t,N),l=m.Form.useForm(),b=f()(l,1),o=b[0];return(0,n.tZ)(m.Form,{form:o,component:!1},(0,n.tZ)(A.Provider,{value:o},(0,n.tZ)("tr",d)))},G=function(t){var p=t.title,d=t.editable,l=t.children,b=t.dataIndex,o=t.record,c=t.handleSave,C=I()(t,$),M=(0,i.useState)(!1),P=f()(M,2),E=P[0],O=P[1],D=(0,i.useRef)(null),h=(0,i.useContext)(A);(0,i.useEffect)(function(){E&&D.current.focus()},[E]);var _=function(){O(!E),h.setFieldsValue(k()({},b,o[b]))},r=function(){var u=B()(U()().mark(function x(){var g;return U()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,h.validateFields();case 3:g=s.sent,_(),c(v()(v()({},o),g)),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log("Save failed:",s.t0);case 11:case"end":return s.stop()}},x,null,[[0,8]])}));return function(){return u.apply(this,arguments)}}(),a=l;return d&&(a=E?(0,n.tZ)(m.Form.Item,{style:{margin:0},name:b,rules:[{required:!0,message:"".concat(p," is required.")}]},(0,n.tZ)(m.Input,{ref:D,onPressEnter:r,onBlur:r})):(0,n.tZ)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:_},l)),(0,n.tZ)("td",C,a)},V=function(){var t=(0,i.useState)([{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}]),p=f()(t,2),d=p[0],l=p[1],b=(0,i.useState)(2),o=f()(b,2),c=o[0],C=o[1],M=function(r){var a=d.filter(function(u){return u.key!==r});l(a)},P=[{title:"name",dataIndex:"name",width:"30%",editable:!0},{title:"age",dataIndex:"age"},{title:"address",dataIndex:"address"},{title:"operation",dataIndex:"operation",render:function(r,a){return d.length>=1?(0,n.tZ)(m.Popconfirm,{title:"Sure to delete?",onConfirm:function(){return M(a.key)}},(0,n.tZ)("a",null,"Delete")):null}}],E=function(){var r={key:c,name:"Edward King ".concat(c),age:"32",address:"London, Park Lane no. ".concat(c)};l([].concat(j()(d),[r])),C(c+1)},O=function(r){var a=j()(d),u=a.findIndex(function(g){return r.key===g.key}),x=a[u];a.splice(u,1,v()(v()({},x),r)),l(a)},D={body:{row:w,cell:G}},h=P.map(function(_){return _.editable?v()(v()({},_),{},{onCell:function(a){return{record:a,editable:_.editable,dataIndex:_.dataIndex,title:_.title,handleSave:O}}}):_});return(0,n.tZ)("div",null,(0,n.tZ)(m.Button,{onClick:E,type:"primary",style:{marginBottom:16}},"Add a row"),(0,n.tZ)(m.Table,{components:D,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:d,columns:h}))};W.default=V}}]);
