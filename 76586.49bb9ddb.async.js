"use strict";(self.webpackChunkantd=self.webpackChunkantd||[]).push([[76586],{76586:function(z,I,e){e.r(I);var T=e(19632),A=e.n(T),B=e(15009),R=e.n(B),K=e(97857),v=e.n(K),W=e(99289),U=e.n(W),w=e(9783),k=e.n(w),Z=e(5574),c=e.n(Z),x=e(13769),L=e.n(x),i=e(67294),m=e(13669),a=e(13946),F=["index"],N=["title","editable","children","dataIndex","record","handleSave"],y=i.createContext(null),$=function(t){var g=t.index,o=L()(t,F),s=m.Form.useForm(),b=c()(s,1),l=b[0];return(0,a.tZ)(m.Form,{form:l,component:!1},(0,a.tZ)(y.Provider,{value:l},(0,a.tZ)("tr",o)))},G=function(t){var g=t.title,o=t.editable,s=t.children,b=t.dataIndex,l=t.record,E=t.handleSave,M=L()(t,N),O=(0,i.useState)(!1),f=c()(O,2),h=f[0],j=f[1],p=(0,i.useRef)(null),P=(0,i.useContext)(y);(0,i.useEffect)(function(){h&&p.current.focus()},[h]);var _=function(){j(!h),P.setFieldsValue(k()({},b,l[b]))},r=function(){var u=U()(R()().mark(function D(){var C;return R()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,P.validateFields();case 3:C=d.sent,_(),E(v()(v()({},l),C)),d.next=11;break;case 8:d.prev=8,d.t0=d.catch(0),console.log("Save failed:",d.t0);case 11:case"end":return d.stop()}},D,null,[[0,8]])}));return function(){return u.apply(this,arguments)}}(),n=s;return o&&(n=h?(0,a.tZ)(m.Form.Item,{style:{margin:0},name:b,rules:[{required:!0,message:"".concat(g," is required.")}]},(0,a.tZ)(m.Input,{ref:p,onPressEnter:r,onBlur:r})):(0,a.tZ)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:_},s)),(0,a.tZ)("td",M,n)},V=function(){var t=(0,i.useState)([{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}]),g=c()(t,2),o=g[0],s=g[1],b=(0,i.useState)(2),l=c()(b,2),E=l[0],M=l[1],O=function(r){var n=o.filter(function(u){return u.key!==r});s(n)},f=[{title:"name",dataIndex:"name",width:"30%",editable:!0},{title:"age",dataIndex:"age"},{title:"address",dataIndex:"address"},{title:"operation",dataIndex:"operation",render:function(r,n){return o.length>=1?(0,a.tZ)(m.Popconfirm,{title:"Sure to delete?",onConfirm:function(){return O(n.key)}},(0,a.tZ)("a",null,"Delete")):null}}],h=function(){var r={key:E,name:"Edward King ".concat(E),age:"32",address:"London, Park Lane no. ".concat(E)};s([].concat(A()(o),[r])),M(E+1)},j=function(r){var n=A()(o),u=n.findIndex(function(C){return r.key===C.key}),D=n[u];n.splice(u,1,v()(v()({},D),r)),s(n)},p={body:{row:$,cell:G}},P=f.map(function(_){return _.editable?v()(v()({},_),{},{onCell:function(n){return{record:n,editable:_.editable,dataIndex:_.dataIndex,title:_.title,handleSave:j}}}):_});return(0,a.tZ)("div",null,(0,a.tZ)(m.Button,{onClick:h,type:"primary",style:{marginBottom:16}},"Add a row"),(0,a.tZ)(m.Table,{components:p,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:o,columns:P}))};I.default=V}}]);
