"use strict";(self.webpackChunkantd=self.webpackChunkantd||[]).push([[48641],{48641:function(z,I,e){e.r(I);var S=e(39216),A=e.n(S),T=e(70920),x=e.n(T),B=e(17934),h=e.n(B),K=e(23538),W=e.n(K),j=e(32899),Z=e.n(j),F=e(21071),g=e.n(F),N=e(36681),R=e.n(N),u=e(71062),m=e(12629),n=e(13103),$=["index"],w=["title","editable","children","dataIndex","record","handleSave"],L=u.createContext(null),G=function(a){var E=a.index,l=R()(a,$),o=m.Form.useForm(),b=g()(o,1),s=b[0];return(0,n.tZ)(m.Form,{form:s,component:!1},(0,n.tZ)(L.Provider,{value:s},(0,n.tZ)("tr",l)))},k=function(a){var E=a.title,l=a.editable,o=a.children,b=a.dataIndex,s=a.record,v=a.handleSave,M=R()(a,w),O=(0,u.useState)(!1),C=g()(O,2),c=C[0],U=C[1],f=(0,u.useRef)(null),p=(0,u.useContext)(L);(0,u.useEffect)(function(){c&&f.current.focus()},[c]);var _=function(){U(!c),p.setFieldsValue(Z()({},b,s[b]))},r=function(){var i=W()(x()().mark(function P(){var D;return x()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,p.validateFields();case 3:D=d.sent,_(),v(h()(h()({},s),D)),d.next=11;break;case 8:d.prev=8,d.t0=d.catch(0),console.log("Save failed:",d.t0);case 11:case"end":return d.stop()}},P,null,[[0,8]])}));return function(){return i.apply(this,arguments)}}(),t=o;return l&&(t=c?(0,n.tZ)(m.Form.Item,{style:{margin:0},name:b,rules:[{required:!0,message:"".concat(E," is required.")}]},(0,n.tZ)(m.Input,{ref:f,onPressEnter:r,onBlur:r})):(0,n.tZ)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:_},o)),(0,n.tZ)("td",M,t)},V=function(){var a=(0,u.useState)([{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}]),E=g()(a,2),l=E[0],o=E[1],b=(0,u.useState)(2),s=g()(b,2),v=s[0],M=s[1],O=function(r){var t=l.filter(function(i){return i.key!==r});o(t)},C=[{title:"name",dataIndex:"name",width:"30%",editable:!0},{title:"age",dataIndex:"age"},{title:"address",dataIndex:"address"},{title:"operation",dataIndex:"operation",render:function(r,t){return l.length>=1?(0,n.tZ)(m.Popconfirm,{title:"Sure to delete?",onConfirm:function(){return O(t.key)}},(0,n.tZ)("a",null,"Delete")):null}}],c=function(){var r={key:v,name:"Edward King ".concat(v),age:"32",address:"London, Park Lane no. ".concat(v)};o([].concat(A()(l),[r])),M(v+1)},U=function(r){var t=A()(l),i=t.findIndex(function(D){return r.key===D.key}),P=t[i];t.splice(i,1,h()(h()({},P),r)),o(t)},f={body:{row:G,cell:k}},p=C.map(function(_){return _.editable?h()(h()({},_),{},{onCell:function(t){return{record:t,editable:_.editable,dataIndex:_.dataIndex,title:_.title,handleSave:U}}}):_});return(0,n.tZ)("div",null,(0,n.tZ)(m.Button,{onClick:c,type:"primary",style:{marginBottom:16}},"Add a row"),(0,n.tZ)(m.Table,{components:f,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:l,columns:p}))};I.default=V}}]);
